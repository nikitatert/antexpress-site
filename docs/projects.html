<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Наши объекты — АНТЭкспресс</title>

  <!-- Theme no-flash -->
  <script>
    (function(){
      try{
        var k='site-theme';
        var s=localStorage.getItem(k);
        var d=window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches;
        document.documentElement.setAttribute('data-theme', s||(d?'dark':'light'));
      }catch(e){}
    })();
  </script>

  <link rel="stylesheet" href="./style.css" />
  <link rel="stylesheet" href="./theme.css" />
  <script defer src="./theme.js"></script>

  <!-- Header styles (same across pages) + logo swap -->
  <style>
    header{display:block;width:100%}

    /* LINE 1 */
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      padding:12px 0; gap:16px;
      border-bottom:1px solid var(--border);
    }
    .brand .logo{height:72px; width:auto}
    .contact-row{display:flex; align-items:center; gap:24px; flex-wrap:wrap}
    .ci{display:flex; align-items:center; gap:10px; font-weight:700}
    .ci small{display:block; font-weight:600; color:var(--muted); line-height:1.1}
    .topbar .ci a{color:var(--text); text-decoration:none}
    .topbar .ci a:hover{color:var(--link)}

    /* LINE 2 */
    .menubar{
      display:flex; align-items:center; gap:14px;
      padding:10px 0; border-bottom:1px solid var(--border);
    }
    .menubar a{ font-weight:700; padding:8px 10px; border-radius:10px; color:var(--text); text-decoration:none; border:1px solid transparent }
    .menubar a:hover{ color:var(--link); border-color:var(--border) }
    .menubar a.active{ border-color:var(--text); }
    .menubar .spacer{flex:1}

    /* Logo theme swap */
    .logo.dark{display:none}
    [data-theme="dark"] .logo.light{display:none}
    [data-theme="dark"] .logo.dark{display:inline}

    @media (max-width: 920px){
      .brand .logo{height:58px}
      .contact-row{gap:14px}
    }
    @media (max-width: 680px){
      .brand .logo{height:48px}
      .ci{font-size:14px}
    }

    /* ===== PAGE-SPECIFIC (Projects grid + spacing + Dark Mode fix) ===== */
    .section > h1{
      /* extra space before the bubbles under the header */
      margin: 0 0 clamp(22px, 5vw, 40px);
    }

    .list{
      display:grid;
      gap:14px;
      grid-template-columns:repeat(auto-fit, minmax(160px, 1fr));
    }
    .card{
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding:14px;
      border:1px solid var(--border);
      border-radius:14px;
      background:var(--bgElevated, #ffffff);
      color:var(--text);
      text-decoration:none;
      min-height:64px;
      transition:background .2s ease, border-color .2s ease, color .2s ease;
    }
    .card:hover{ background:var(--hoverElevated, #f5f5f5); }

    /* DARK THEME OVERRIDES (ensure good contrast) */
    [data-theme="dark"] .card{
      background:var(--bgElevatedDark, #1f2328);
      border-color:var(--borderDark, #2b3137);
      color:var(--textDark, #e6e6e6);
    }
    [data-theme="dark"] .card:hover{
      background:var(--hoverElevatedDark, #242a31);
    }

    .card h3{
      margin:0;
      line-height:1.15;
      font-size:clamp(14px, 3.6vw, 18px);
      white-space:normal;
      word-break:break-word;
      hyphens:auto;
    }

    /* On very narrow phones, use 2 columns so words fit comfortably */
    @media (max-width:420px){
      .list{ grid-template-columns:repeat(2, minmax(0,1fr)); }
      .card{ padding:12px; min-height:56px; }
    }

    /* Map */
    .map-wrap{margin-top:28px}
    #ru-map{
      height:520px; width:100%;
      border:1px solid var(--border); border-radius:16px; overflow:hidden;
      background:#eef2f1;
    }
    @media (max-width:640px){ #ru-map{height:400px} }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- ===== HEADER ===== -->
    <header>
      <!-- line 1 -->
      <div class="topbar">
        <a class="brand" href="./index.html" aria-label="АНТЭкспресс — на главную">
          <img src="./logo-light.png" alt="АНТЭкспресс" class="logo light" />
          <img src="./logo-dark.png"  alt="АНТЭкспресс" class="logo dark" />
        </a>
        <div class="contact-row">
          <div class="ci"><div><small>Телефон</small><a href="tel:+74950000000">+7 (495) 000-00-00</a></div></div>
          <div class="ci"><div><small>Email</small><a href="mailto:info@antexp.ru">info@antexp.ru</a></div></div>
          <div class="ci"><div><small>Время работы</small>Пн–Пт, 9:00–18:00</div></div>
        </div>
      </div>

      <!-- line 2 -->
      <nav class="menubar" aria-label="Основная навигация">
        <a href="./index.html">Главная</a>
        <a href="./about.html">О компании</a>
        <a href="./services.html">Услуги</a>
        <a href="./projects.html" class="active">Наши объекты</a>
        <a href="./contacts.html">Контакты</a>
        <span class="spacer"></span>
        <button class="theme-toggle" id="themeToggle" aria-label="Переключить тему" title="Тема">
          <span class="sun">☀︎</span><span class="moon">☾</span>
        </button>
      </nav>
    </header>

    <!-- ===== MAIN ===== -->
    <main class="section">
      <h1>Наши объекты</h1>

      <!-- GRID -->
      <div class="list">
        <a class="card" href="./project-nikolo-dol.html"><h3>Николо-Дол</h3></a>
        <a class="card" href="./project-skandinaviya.html"><h3>Скандинавия</h3></a>
        <a class="card" href="./project-sakhalin.html"><h3>Сахалин</h3></a>
        <a class="card" href="./project-baikal.html"><h3>Байкал</h3></a>
      </div>

      <section class="section">
        <h2>География проектов</h2>
        <div class="map-wrap"><div id="ru-map"></div></div>
      </section>
    </main>

    <!-- ===== FOOTER ===== -->
    <footer>
      <div>© <span id="y"></span> ООО «АНТЭкспресс». Все права защищены.</div>
      <div><a href="./privacy.html" style="color:var(--muted)">Политика конфиденциальности</a></div>
    </footer>
  </div>

  <script>document.getElementById('y').textContent=new Date().getFullYear()</script>

  <!-- Yandex Map (4 points only) -->
  <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
  <script>
    ymaps.ready(function(){
      var map = new ymaps.Map('ru-map', { center:[61.5,96], zoom:4, controls:['zoomControl'] }, {
        restrictMapArea:[[41.0,19.0],[82.0,190.0]], suppressMapOpenBlock:true
      });
      var points = [
        { c:[55.536,37.541], h:'Коммунарка — ЖК «Скандинавия Юг»', b:'<strong>Скандинавия</strong><br>МО, Коммунарка.' , u:'./project-skandinaviya.html'},
        { c:[46.957,142.736], h:'Южно-Сахалинск — СТК «Горный воздух»', b:'<strong>Сахалин</strong><br>СТК «Горный воздух».', u:'./project-sakhalin.html'},
        { c:[54.5144,36.2550], h:'Калужская область — усадьба Гурьевых', b:'<strong>Николо-Дол</strong><br>Калужская обл.', u:'./project-nikolo-dol.html'},
        { c:[53.780,108.261], h:'Респ. Бурятия, с. Турка — ОЭЗ «Байкальская гавань»', b:'<strong>Байкал</strong><br>с. Турка.', u:'./project-baikal.html'}
      ];
      var col = new ymaps.GeoObjectCollection({}, { preset:'islands#greenDotIcon' });
      points.forEach(p=>{
        col.add(new ymaps.Placemark(p.c, { hintContent:p.h, balloonContent: p.b + '<br><a href="'+p.u+'">Открыть проект</a>' }));
      });
      map.geoObjects.add(col);
      var b = col.getBounds(); if(b){ map.setBounds(b, {checkZoomRange:true, zoomMargin:40}); }
    });
  </script>
</body>
</html> 
